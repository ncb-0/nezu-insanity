import{C as _}from"./runtime.BHE_jgcz.js";import{a as o}from"./attributes.Dq7Nhvgo.js";import{a as v}from"./props.DEeGB9ks.js";function l(e,u,n,t=n){e.addEventListener(u,n);const r=e.__on_r;r?e.__on_r=()=>{r(),t()}:e.__on_r=t,o()}function f(e,u,n){if(e.multiple)return s(e,u);for(var t of e.options){var r=a(t);if(v(r,u)){t.selected=!0;return}}(!n||u!==void 0)&&(e.selectedIndex=-1)}function d(e,u){_(()=>{var n=new MutationObserver(()=>{var t=e.__value;f(e,t)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function p(e,u,n=u){var t=!0;l(e,"change",()=>{var r;if(e.multiple)r=[].map.call(e.querySelectorAll(":checked"),a);else{var i=e.querySelector(":checked");r=i&&a(i)}n(r)}),_(()=>{var r=u();if(f(e,r,t),t&&r===void 0){var i=e.querySelector(":checked");i!==null&&(r=a(i),n(r))}e.__value=r,t=!1}),d(e)}function s(e,u){for(var n of e.options)n.selected=~u.indexOf(a(n))}function a(e){return"__value"in e?e.__value:e.value}export{p as b,l};
